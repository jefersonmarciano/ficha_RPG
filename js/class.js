
// BÊNÇÃO CEDIDA

// As raças vem de outras dimensões e portais, não naturais do nosso mundo, e são categorizadas em 6 atributos: Força, Agilidade, Intelecto, Constituição, Perspicácia e Presença, que são o destaque de cada raça.
// Além disso, cada raça também concede uma habilidade inata para quem as herdar.

// FORÇA
// As raças que possuem sua base em FORÇA possuem bônus e afinidades físicas, e todas aumentam em +2 os resultados de danos e curas,  escala +2 a cada 10 níveis.
// Meio-Orc - (1X Força + 1X Perspicácia OU Intelecto)
// Passiva inata obrigatória: Aprimora seus status principais adicionando ⅓ da FOR em HP, e ⅙ da FOR em MP e SP, aumenta a cada 10 níveis.
// 	Passiva Escolhida (1):
//  +2 Força
//  +1 Perspicácia e +1 Intelecto
//  +1 Treinamento de Brigar

// Minotauro - Porradeiro (1X Força + 1X Força OU Constituição)
// Passiva inata obrigatória: Seus ataques, se defendidos, ainda causam 1/4 do dano.
// Passiva Escolhida (1):
//  +2 Força
//  +1 Força e +1 Constituição
//  +3 Penetração
// Centauro - Porradeiro (1X Força + 1X Agilidade OU Presença) 
// Passiva inata obrigatória: Ganha 3★ para o Fighting Style, e +2★ a cada 10 níveis.
// 	Passiva Escolhida (1):
//  +2 Força
//  +1 Agilidade e +1 Presença
//  +1 Crit Rate

// AGILIDADE
// 	Aumenta a taxa crítica de 1 em 1 a cada 10 níveis.
// Tabaxi (1X Agilidade + 1X Força OU Constituição)
// Passiva inata obrigatória: Seus ataques recebem dano extra baseado em sua movimentação (+1 a cada 3 Move EXTRA).
// 	Passiva Escolhida (1):
//  +2 Agilidade
//  +1 Força e +1 Constituição
//  + ¼ Move
// Kenku (1X Agilidade + 1X Perspicácia OU Intelecto)
// Passiva inata obrigatória: Tem aumento base de 3+⅕ da AGI em MP e SP, aumentando a cada 10 níveis.
// 	Passiva Escolhida (1):
//  +2 Agilidade
//  +1 Perspicácia e +1 Intelecto
//  -1 Mana Cost.
// Aarakocra (1X Agilidade + 1X Agilidade OU Presença)
// Passiva inata obrigatória: Tem mais uma ação de ataque por turno.
// 	Passiva Escolhida (1):
//  +2 Agilidade
//  +1 Agilidade e +1 Presença
//  +2★ de Dano

// INTELECTO

// 	Treinamentos que contenham INT fornecem +1 de bônus extra. Ganha +1 treinamento a cada 10 níveis.
// Owlin (1X Intelecto + 1X Perspicácia OU Intelecto)
// Passiva Inata obrigatória: Tem outro elemento vinculado a si.
// Passiva Escolhida (1):
//  +2 Intelecto
//  +1 Perspicácia e +1 Intelecto
//  +1 Treinamento em Combate Mágico(?).
// Elfo (1X Intelecto + 1X Agilidade OU Presença)
// Passiva Inata Obrigatória: Pode utilizar magias e habilidades usando SP ou MP.
// 	Passiva Escolhida (1):
//  +2 Intelecto
//  +1 Agilidade e +1 Presença
//  +1 Treinamento em Arcanismo.
// Sereia / Tritão (1X Intelecto + 1X Força OU Constituição)
// Passiva Inata Obrigatória: +1 de dano ou cura a cada 4 de mana.
// 	Passiva Escolhida (1):
//  +2 Intelecto
//  +1 Força e +1 Constituição
//  +2 Mana

// CONSTITUIÇÃO
// 	Ganha 6 de vida extra, a cada 10 níveis recebe mais 10.

// Goliath ( 1X Constituição + 1X Força OU Constituição)
// Passiva Inata Obrigatória: Recebe 2 de CA extra baseado em seu nível. (10 em 10)
// Passiva Escolhida (1):
//  +2 Constituição
//  +1 Força e +1 Constituição
//  +6 Vida
// Dwarf (1X Constituição + 1X Agilidade OU Presença)
// Passiva Inata Obrigatória: +1 de dano/cura a cada 4 de stamina.
// 	Passiva Escolhida (1):
//  +2 Constituição
//  +1 Agilidade e +1 Presença
//  + 2 Stamina
// Archelon (+ resistência talvez) (1X Constituição + 1X Perspicácia OU Intelecto)
// Passiva Inata Obrigatória: Ganha 2 de RD, melhorando a cada 10 níveis.
// Passiva Escolhida (1):
//  2 Constituição
//  1 Perspicácia e 1 Intelecto
//   2★ de Defesa.



// PERSPICÁCIA

// 	Reduz em 1 o custo de qualquer recurso que não seja vida (mana e stamina no caso), escalando a cada 10 níveis por 1. 
// Draconato (1X Perspicácia + 1X Força OU Constituição)
// Passiva Inata Obrigatória: Aumenta o dano em 1★ acima de 50% de vida, e em 3★ com 100%.
// 	Passiva Escolhida (1):
//  +2 Perspicácia
//  +1 Força e +1 Constituição
//  + 1 RD.
// Daedalus (1X Perspicácia + 1X Perspicácia OU Intelecto)
// Passiva Inata Obrigatória: Após todo descanso pode rolar e guardar 1 dado (D20), mais 1 a cada 10 níveis. (roll mínimo 10)
// 	Passiva Escolhida (1):
//  +2 Perspicácia
//  +1 Perspicácia e +1 Intelecto
//  +1 Treinamento em Arcana
// Eldritch (1X Perspicácia + 1X Agilidade OU Presença)
// Passiva Inata Obrigatória: Tem a opção de guardar até 2 cargas de crítico quando rollar algum, e usá-los posteriormente em algum ataque que acertar.
// Passiva Escolhida (1):
// +2 Perspicácia
// +1 Agilidade e +1 Presença
// +1 Carga de crítico pode ser guardada.


// PRESENÇA

// Bônus de +1 RD e +1 em testes realizados, aumentando ambos em +1 a cada 10 níveis.
// Spectre (1X Presença + 1X Agilidade OU Presença)
// Passiva Inata Obrigatória: Dobra a taxa crítica quando atacando em stealth
// 	Passiva Escolhida (1):
//  +2 Presença
//  +1 Agilidade e +1 Presença
//  +1 treino de Stealth

// Osteon (1X Presença + 1X Perspicácia OU Intelecto)
// Passiva inata obrigatória: Osteons não desmaiam quando entram em morrendo. (ainda precisam fazer os testes de morrendo e se estabilizarem)
// 	Passiva Escolhida (1):
// +2 Presença
// +1 Perspicácia e +1 Intelecto
// -1 custo de Stamina 
// Typhoon (titan) (1X Presença + 1X Força OU Constituição)
// Passiva Inata Obrigatória: Pode utilizar Ação Bônus para ganhar uma ação padrão ou movimento.
// 	Passiva Escolhida (1):
//  +2 Presença
//  +1 Força e +1 Constituição
//  +2 CA
document.addEventListener('DOMContentLoaded', function() {
    const raceSelect = document.getElementById('race');
    const racesData = {
        'owlin': {
            strength: 0,
            agility: 0,
            intellect: 2,
            constitution: 0,
            wisdom: 1,
            presence: 1,
            passive: 'Tem outro elemento vinculado a si.',
            element: true
        },
        'meio-orc': {
            strength: 2,
            agility: 0,
            intellect: 1,
            constitution: 0,
            wisdom: 1,
            presence: 0,
            passive: 'Aprimora seus status principais adicionando ⅓ da FOR em HP, e ⅙ da FOR em MP e SP, aumenta a cada 10 níveis.',
            element: false
        },
        // Adicione os dados para as outras raças aqui...
    };

    raceSelect.addEventListener('change', function() {
        const selectedRace = this.value;
        const raceInfo = racesData[selectedRace];

        if (raceInfo) {
            // Atualiza os atributos
            document.getElementById('strength-base').value = raceInfo.strength;
            document.getElementById('agility-base').value = raceInfo.agility;
            document.getElementById('intellect-base').value = raceInfo.intellect;
            document.getElementById('constitution-base').value = raceInfo.constitution;
            document.getElementById('wisdom-base').value = raceInfo.wisdom;
            document.getElementById('presence-base').value = raceInfo.presence;

            // Exibe ou oculta o campo de segundo elemento para Owlin
            const owlinElementGroup = document.getElementById('owlin-element-group');
            if (owlinElementGroup) {
                owlinElementGroup.style.display = raceInfo.element ? 'block' : 'none';
            }

            // Adiciona a passiva da raça em algum lugar (você precisa criar um elemento para isso)
            const passiveElement = document.getElementById('race-passive');
            if (passiveElement) {
                passiveElement.textContent = raceInfo.passive;
            }

            // Atualiza os modificadores (você precisa implementar esta função)
            updateModifiers();
        }
    });

    function updateModifiers() {
        const attributes = ['strength', 'agility', 'intellect', 'constitution', 'wisdom', 'presence'];
        attributes.forEach(attr => {
            const baseValue = parseInt(document.getElementById(`${attr}-base`).value) || 0;
            const scoreValue = parseInt(document.getElementById(`${attr}-score`).value) || 0;
            const totalValue = baseValue + scoreValue;
            const modifier = Math.floor((totalValue - 10) / 2);
            document.getElementById(`${attr}-mod`).value = modifier;
        });
    }

    // Adicione event listeners para atualizar os modificadores quando os valores base ou score mudarem
    const attributeInputs = document.querySelectorAll('[id$="-base"], [id$="-score"]');
    attributeInputs.forEach(input => {
        input.addEventListener('input', updateModifiers);
    });
});